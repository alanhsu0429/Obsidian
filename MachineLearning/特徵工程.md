# 特徵工程 (Feature Engineering)

歡迎來到特徵工程的世界！在機器學習中，數據的質量和特徵的選擇對模型的性能有著決定性的影響。**特徵工程**是指將原始數據轉換為模型能夠更好地理解和利用的特徵的過程。它是一門藝術，也是一門科學，需要領域知識、數據直覺和實驗精神。

---

## 核心概念

*   **原始數據 (Raw Data)**：從數據源直接獲取的未經處理的數據。
*   **特徵 (Features)**：模型用於學習和預測的輸入變數。好的特徵能夠更好地捕捉數據中的模式和關係。
*   **特徵轉換 (Feature Transformation)**：對原始特徵進行數學運算或邏輯處理，以生成新的特徵或改進現有特徵的表示。
*   **特徵選擇 (Feature Selection)**：從所有可用特徵中選擇一個最有信息量、最相關的子集，以減少模型的複雜度，提高訓練速度和泛化能力。
*   **領域知識 (Domain Knowledge)**：對問題領域的深入理解是進行有效特徵工程的關鍵。它能幫助我們識別哪些信息是重要的，以及如何最好地表示這些信息。

---

## 特徵工程的目標

*   **提高模型性能**：透過提供更有信息量的特徵，幫助模型更好地學習數據中的模式，從而提高預測準確性。
*   **減少過擬合**：透過選擇相關特徵和減少冗餘，降低模型的複雜度。
*   **加速模型訓練**：減少特徵數量可以縮短訓練時間。
*   **提高模型解釋性**：有時，精心設計的特徵可以使模型更容易理解。
*   **處理數據問題**：例如處理缺失值、異常值、類別型數據等。

---

## 常見的特徵工程技術

### 1. 處理缺失值 (Handling Missing Values)

*   **刪除**：刪除包含缺失值的行或列（如果缺失值數量很少）。
*   **填充 (Imputation)**：
    *   使用均值、中位數、眾數填充。
    *   使用機器學習模型（例如 KNN、迴歸）預測缺失值。
    *   使用常數或特定標記填充。

### 2. 處理類別型特徵 (Handling Categorical Features)

*   **獨熱編碼 (One-Hot Encoding)**：將每個類別轉換為一個二元（0 或 1）特徵。適用於沒有序關係的類別特徵。
*   **標籤編碼 (Label Encoding)**：將每個類別映射到一個整數。適用於有序關係的類別特徵，或當模型能夠處理序數關係時。
*   **頻率編碼 (Frequency Encoding)**：用類別的頻率或比例來替換類別值。
*   **目標編碼 (Target Encoding)**：用類別對目標變數的平均值來替換類別值。

### 3. 數值型特徵轉換 (Numerical Feature Transformation)

*   **標準化 (Standardization)**：將特徵縮放到均值為 0，方差為 1。適用於許多機器學習演算法（如 SVM、KNN、神經網路）。
*   **歸一化 (Normalization)**：將特徵縮放到 [0, 1] 或 [-1, 1] 區間。適用於需要固定範圍的特徵。
*   **對數轉換 (Log Transformation)**：處理偏斜分佈的數據，使其更接近常態分佈。
*   **冪次轉換 (Power Transformation)**：如 Box-Cox 轉換，用於穩定方差和使數據更接近常態分佈。
*   **分箱/離散化 (Binning/Discretization)**：將連續型特徵劃分為多個區間，轉換為類別型特徵。

### 4. 創建新特徵 (Creating New Features)

*   **組合特徵 (Interaction Features)**：將兩個或多個特徵相乘或相加，以捕捉它們之間的交互作用。
*   **多項式特徵 (Polynomial Features)**：將特徵的冪次作為新特徵，以捕捉非線性關係。
*   **時間序列特徵**：從時間戳中提取年、月、日、星期幾、小時、分鐘、節假日等信息。
*   **聚合特徵 (Aggregation Features)**：對分組數據進行統計聚合（均值、總和、計數、最大值、最小值等）。
*   **基於領域知識的特徵**：根據對問題的理解，手動創建有意義的特徵。

### 5. 特徵選擇 (Feature Selection)

*   **過濾法 (Filter Methods)**：根據特徵與目標變數之間的統計關係（如相關係數、卡方檢驗、信息增益）來選擇特徵，獨立於模型。
*   **包裹法 (Wrapper Methods)**：使用機器學習模型作為評估器，透過不斷嘗試不同的特徵子集來選擇最佳特徵。例如，遞歸特徵消除 (Recursive Feature Elimination, RFE)。
*   **嵌入法 (Embedded Methods)**：在模型訓練過程中自動進行特徵選擇。例如，Lasso 迴歸 (L1 正則化) 可以將不重要特徵的係數縮小到零。

---

## 應用場景

*   **所有機器學習項目**：特徵工程是機器學習工作流程中不可或缺且影響深遠的環節。

---

特徵工程是機器學習中一個充滿創造性和挑戰性的領域。好的特徵工程往往能比複雜的模型帶來更大的性能提升。理解這些技術並學會靈活運用，是成為優秀機器學習工程師的必經之路。接下來，我們將探討交叉驗證。請持續關注！
