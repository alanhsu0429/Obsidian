# R-平方 (R-squared, $R^2$)

歡迎來到 R-平方 ($R^2$) 的世界！$R^2$ 是**迴歸模型**中一個非常常用且直觀的評估指標。它衡量了模型解釋目標變數變異的比例，即模型能夠解釋因變數變化的程度。$R^2$ 的值通常介於 0 到 1 之間，值越接近 1 表示模型擬合得越好。

---

## 核心概念

*   **總平方和 (Total Sum of Squares, SST)**：衡量因變數 $y$ 的總變異。它是每個真實值 $y_i$ 與 $y$ 的平均值 $ar{y}$ 之間差異的平方和。
    $	ext{SST} = \sum_{i=1}^{n} (y_i - \bar{y})^2$
*   **迴歸平方和 (Regression Sum of Squares, SSR)**：衡量模型預測值 $\hat{y}_i$ 所能解釋的變異。它是每個預測值 $\hat{y}_i$ 與 $y$ 的平均值 $ar{y}$ 之間差異的平方和。
    $	ext{SSR} = \sum_{i=1}^{n} (\hat{y}_i - \bar{y})^2$
*   **殘差平方和 (Residual Sum of Squares, SSE)**：衡量模型未能解釋的變異（即誤差）。它是每個真實值 $y_i$ 與預測值 $\hat{y}_i$ 之間差異的平方和。
    $	ext{SSE} = \sum_{i=1}^{n} (y_i - \hat{y}_i)^2$

關係：$	ext{SST} = 	ext{SSR} + 	ext{SSE}$

---

## 計算公式

$R^2$ 的計算公式如下：

$R^2 = 1 - \frac{\text{SSE}}{\text{SST}} = \frac{\text{SSR}}{\text{SST}}$

其中：
*   $	ext{SSE}$ 是殘差平方和。
*   $	ext{SST}$ 是總平方和。

---

## $R^2$ 的特點

*   **解釋變異的比例**：$R^2$ 表示模型解釋了因變數總變異的百分比。例如，如果 $R^2 = 0.8$，表示模型解釋了因變數 80% 的變異。
*   **範圍**：通常介於 0 到 1 之間。值越接近 1 表示模型擬合得越好，解釋能力越強。
*   **負值**：在某些情況下，$R^2$ 的值可能為負。這通常發生在模型比簡單的平均值模型表現還要差的時候，表明模型完全不適合數據。
*   **增加特徵的問題**：當模型中增加更多的特徵時，$R^2$ 的值通常會增加，即使這些新特徵對模型性能沒有實質性幫助。這可能會誤導我們認為模型變得更好，但實際上可能導致[[過擬合與欠擬合]]。

---

## 調整 $R^2$ (Adjusted R-squared)

為了解決 $R^2$ 隨特徵數量增加而增加的問題，引入了**調整 $R^2$**。調整 $R^2$ 會對模型中特徵的數量進行懲罰，只有當新特徵對模型有足夠的解釋力時，調整 $R^2$ 才會增加。

調整 $R^2$ 的計算公式：

$	ext{Adjusted } R^2 = 1 - (1 - R^2) \frac{n - 1}{n - p - 1}$

其中：
*   $n$ 是樣本數量。
*   $p$ 是模型中特徵的數量。

*   **優點**：
    *   在比較不同複雜度的模型時，調整 $R^2$ 是一個更好的指標。
    *   如果新特徵沒有顯著提高模型的解釋力，調整 $R^2$ 可能會下降。

---

## 應用場景

*   **經濟學**：評估經濟模型對 GDP、通脹率等變數的解釋能力。
*   **社會科學**：評估社會現象模型對行為、態度等變數的解釋能力。
*   **任何需要評估迴歸模型解釋力的任務**。

---

理解 $R^2$ 及其調整版本，對於評估迴歸模型的解釋力和選擇最佳模型至關重要。接下來，我們將轉向分類模型的評估指標。請持續關注！
