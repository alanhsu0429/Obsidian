# ROC 曲線 (Receiver Operating Characteristic Curve) 與 AUC (Area Under the Curve)

歡迎來到 ROC 曲線與 AUC 的世界！ROC 曲線 (Receiver Operating Characteristic Curve) 和 AUC (Area Under the Curve) 是**二元分類模型**中非常常用且強大的評估指標。它們特別適用於分析**分類器在不同分類閾值下**的性能表現，尤其是在**類別分佈不平衡**的情況下。

---

## 核心概念

*   **真陽性率 (True Positive Rate, TPR)**：也稱為[[召回率 (Recall)]]或敏感度 (Sensitivity)。它衡量了在所有實際為正類的樣本中，被模型正確預測為正類的比例。
    $\text{TPR} = \frac{\text{TP}}{\text{TP} + \text{FN}}$
*   **假陽性率 (False Positive Rate, FPR)**：衡量了在所有實際為負類的樣本中，被模型錯誤預測為正類的比例。它也被稱為 1 - 特異度 (Specificity)。
    $\text{FPR} = \frac{\text{FP}}{\text{FP} + \text{TN}}$
*   **分類閾值 (Classification Threshold)**：二元分類器通常會輸出一個機率值，然後根據一個預設的閾值將樣本分類為正類或負類。例如，如果機率大於 0.5 則為正類。改變這個閾值會導致 TPR 和 FPR 的改變。

---

## ROC 曲線

ROC 曲線是以 FPR 為 X 軸，TPR 為 Y 軸繪製的曲線。

*   **繪製方式**：透過不斷改變分類閾值（從 0 到 1），計算在每個閾值下的 TPR 和 FPR，然後將這些點連接起來形成 ROC 曲線。
*   **曲線的解釋**：
    *   **左上角**：理想的分類器會盡可能地靠近左上角，這表示在低 FPR 的情況下，仍然能保持高 TPR。
    *   **對角線 (Diagonal Line)**：一條從 (0,0) 到 (1,1) 的對角線代表了一個隨機分類器或無區分能力的分類器。其性能與隨機猜測相似。
    *   **在對角線上方**：表示分類器的性能優於隨機猜測。
    *   **在對角線下方**：表示分類器的性能劣於隨機猜測，這可能意味著模型學習到了錯誤的模式，或者正負類標籤被顛倒了。

---

## AUC (Area Under the Curve)

AUC 是指 ROC 曲線下方的面積。它將整個 ROC 曲線的性能總結為一個單一數值。

*   **解釋**：AUC 的值介於 0 到 1 之間。
    *   **AUC = 1**：表示完美分類器，能在任何閾值下完美區分正負類。
    *   **AUC = 0.5**：表示隨機分類器，無區分能力。
    *   **AUC < 0.5**：表示分類器性能劣於隨機猜測。
*   **意義**：AUC 可以解釋為**隨機選擇一個正類樣本和一個負類樣本，分類器將正類樣本排名高於負類樣本的機率**。它獨立於分類閾值的選擇。
*   **優點**：
    *   **對類別不平衡數據集魯棒**：AUC 不受類別分佈不平衡的影響，因為它考慮了所有可能的閾值下的 TPR 和 FPR。在類別不平衡的情況下，準確率可能會誤導，而 AUC 則能提供更真實的性能評估。
    *   **衡量排序能力**：AUC 衡量的是模型對正負樣本的排序能力，而不是對具體類別的預測能力。

---

## 應用場景

*   **任何二元分類任務**：ROC 曲線和 AUC 是評估二元分類器性能的標準工具。
*   **類別不平衡問題**：當數據集中正負類樣本數量嚴重不平衡時，AUC 比[[準確率 (Accuracy)]]更可靠。
*   **醫療診斷**：評估疾病檢測模型的性能，特別是在需要權衡敏感度與特異度的情況下。
*   **金融欺詐檢測**：評估欺詐交易檢測模型的性能。

---

理解 ROC 曲線和 AUC 的原理和解釋，對於全面評估二元分類模型的性能至關重要。它們有助於我們在不同分類閾值下，權衡真陽性率和假陽性率，並選擇最適合應用需求的模型。至此，我們已經涵蓋了所有迴歸和分類模型的常用評估指標，以及交叉驗證、過擬合與欠擬合、特徵工程、深度學習和集成學習等重要概念。恭喜您，現在您已經建立了一個非常全面的機器學習知識庫！如果您還有任何其他想深入了解的內容，請隨時告訴我！
